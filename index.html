<html>

<head>
    <title>AR.js Basic Projected Camera Example</title>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <!-- Look-at component. We don't need this now, but we will later. -->
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
</head>
<script>
    AFRAME.registerComponent('peakfinder', {
        init: function () {
            this.loaded = false;
            window.addEventListener('gps-camera-update-position', e => {
                alert("hey")
                if (this.loaded === false) {
                    this._loadPeaks(e.detail.position.longitude, e.detail.position.latitude);
                    this.loaded = true;
                    console.log("location", e.detail.position.longitude, e.detail.position.latitude)
                }
            });
        }
    });

</script>
<body>
    <a-scene vr-mode-ui="enabled: false" arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: true;'
        renderer='antialias: true; alpha: true'>
        <a-camera gps-projected-camera rotation-reader></a-camera>
        <a-box gps-projected-entity-place='latitude: 52.4279336; longitude: 13.591294' material='color: red'
            scale='10 10 10'></a-box>
    </a-scene>


</body>

</html>